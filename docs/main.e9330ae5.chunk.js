(this.webpackJsonpcandy_calc=this.webpackJsonpcandy_calc||[]).push([[0],[,,,,,,function(e,n,a){e.exports=a(15)},,,,,function(e,n,a){},function(e,n,a){},function(e,n,a){},function(e,n,a){},function(e,n,a){"use strict";a.r(n);var t,c=a(0),i=a.n(c),r=a(5),o=a.n(r),u=(a(11),a(12),a(2)),m=a(1),d=a(3),l=[{_id:"1",name:"\u041a\u0435\u0439\u043a\u043f\u043e\u043f\u0441\u0438",price:18},{_id:"2",name:"\u041c\u0443\u0441\u043e\u0432\u0435 \u0442\u0456\u0441\u0442\u0435\u0447\u043a\u043e (\u0444\u0440\u0443\u043a\u0442\u043e\u0432\u0435)",price:27},{_id:"3",name:"\u041c\u0443\u0441\u043e\u0432\u0435 \u0442\u0456\u0441\u0442\u0435\u0447\u043a\u043e (\u0447\u043e\u0440\u043d\u043e\u0441\u043b\u0438\u0432)",price:27},{_id:"4",name:"\u041a\u0430\u043f\u043a\u0435\u0439\u043a\u0438",price:30},{_id:"5",name:"\u0422\u0456\u0440\u0430\u043c\u0456\u0441\u0443 ",price:24},{_id:"6",name:"\u0422\u0430\u0440\u0442\u0430 \u0444\u0440\u0443\u043a\u0442\u043e\u0432\u0430",price:26},{_id:"7",name:"\u0422\u0430\u0440\u0442\u0430 \u0437 \u0448\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u0438\u043c \u0433\u0430\u043d\u0430\u0448\u0435\u043c",price:26},{_id:"8",name:"\u041f\u0430\u043d\u043d\u0430\u043a\u043e\u0442\u0442\u0430",price:22},{_id:"9",name:"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u0441\u0438",price:18},{_id:"10",name:"\u041c\u0430\u043a\u0430\u0440\u043e\u043d\u0441\u0438 \u043f\u0440\u0435\u043c\u0456\u0443\u043c",price:28},{_id:"11",name:"\u0412\u0435\u0440\u0448\u043a\u043e\u0432\u0438\u0439 \u0434\u0435\u0441\u0435\u0440\u0442",price:22},{_id:"12",name:"\u041c\u0456\u043d\u0456-\u0447\u0456\u0437\u043a\u0435\u0439\u043a (min)",price:24},{_id:"13",name:"\u041c\u0456\u043d\u0456-\u0447\u0456\u0437\u043a\u0435\u0439\u043a (max)",price:30},{_id:"14",name:"\u041b\u0438\u0441\u0442\u043a\u043e\u0432\u0435 \u0442\u0456\u0441\u0442\u0435\u0447\u043a\u043e (\u043b\u0438\u043c\u043e\u043d\u043d\u0435)",price:22},{_id:"15",name:"\u041b\u0438\u0441\u0442\u043a\u043e\u0432\u0435 \u0442\u0456\u0441\u0442\u0435\u0447\u043a\u043e (\u043b\u0430\u0439\u043c)",price:22},{_id:"16",name:"\u0414\u0435\u0441\u0435\u0440\u0442 \u041e\u0440\u0435\u043e",price:26},{_id:"17",name:"\u041c\u0443\u0441\u043e\u0432\u0435 \u0441\u0435\u0440\u0446\u0435 (min)",price:26},{_id:"18",name:"\u041c\u0443\u0441\u043e\u0432\u0435 \u0441\u0435\u0440\u0446\u0435 (max)",price:37},{_id:"19",name:"\u041b\u0438\u043c\u043e\u043d\u043d\u0438\u0439 \u043c\u0443\u0441",price:24},{_id:"20",name:"\u041b\u0430\u0439\u043c\u043e\u0432\u0438\u0439 \u043c\u0443\u0441",price:24},{_id:"21",name:"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u0438\u0439 \u043c\u0443\u0441",price:24},{_id:"22",name:"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u0438\u0439 \u043c\u0443\u0441",price:23},{_id:"23",name:"\u041f\u0430\u0432\u043b\u043e\u0432\u0430",price:25}],s=(a(13),function(e){var n=e.selected,a=e.onChange;return i.a.createElement("select",{className:"drop-down",onChange:function(e){return a(e.target.value)}},l.map((function(e){return e._id===n?i.a.createElement("option",{key:e._id,value:e._id,defaultValue:n},e.name):i.a.createElement("option",{key:e._id,value:e._id},e.name)})),";")}),p=(a(14),function(e){var n=e.candy,a=n,t=a._id,c=a.price,r=a.count,o=a.sum,u=function(){o=Number((r*c).toFixed(2)),e.onChange(Object(m.a)({},n,{count:r,sum:o,price:c}))};return i.a.createElement("div",{className:"grid-row"},i.a.createElement("div",{className:"product"},i.a.createElement(s,{selected:t,onChange:function(e){var a=l.find((function(n){return n._id===e}));a&&(n=Object(m.a)({},n,{_id:a._id,price:a.price,name:a.name})),n&&(e=n._id,c=n.price,u())}})),i.a.createElement("div",{className:"price"},i.a.createElement("input",{type:"number",value:c||"",onChange:function(e){return function(e){c=Number(e.target.value),u()}(e)}})),i.a.createElement("div",{className:"count"},i.a.createElement("input",{type:"number",value:r||"",onChange:function(e){return function(e){r=Number(e.target.value),u()}(e)}})),i.a.createElement("div",{className:"sum"},o))}),f=function(){var e=[],n=Object(c.useState)(e),a=Object(d.a)(n,2),r=a[0],o=a[1],s=Object(c.useState)(0),f=Object(d.a)(s,2),_=f[0],v=f[1],E=function(e){t=setTimeout((function(){var n=r;n.splice(e,1),o(Object(u.a)(n)),function(){var e=0;r.forEach((function(n){e+=n.sum})),v(e)}()}),2e3)},b=function(){clearTimeout(t)};return i.a.createElement("div",{className:"grid"},i.a.createElement("div",{className:"grid-body"},r.map((function(n,a){return i.a.createElement("div",{key:n.uuid,onTouchStart:function(){return E(a)},onTouchEnd:b,onMouseDown:function(){return E(a)},onMouseUp:b,onMouseLeave:b},i.a.createElement(p,{candy:n,onChange:function(n){return function(n){var a=0;(e=r).forEach((function(t,c){t.uuid===n.uuid&&(e[c]=Object(m.a)({},n)),a+=e[c].sum})),console.warn(a),v(a),o(Object(u.a)(e))}(n)}}))}))),i.a.createElement("div",{className:"total-row"},"\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0432\u0430\u0440\u0442\u0456\u0441\u0442\u044c: ",_," \u0433\u0440\u043d"),i.a.createElement("div",{className:"action-bar"},i.a.createElement("button",{className:"clipboard-button",onClick:function(){return function(){var e="";r.forEach((function(n){n.count>0&&(e+="".concat(n.name," ").concat(n.count,"x").concat(n.price,"\u0433\u0440\u043d = ").concat(n.sum," \u0433\u0440\u043d \n"))})),e+="\u0417\u0430\u0433\u0430\u043b\u044c\u043d\u0430 \u0441\u0443\u043c\u0430 ".concat(_," \u0433\u0440\u043d"),navigator.clipboard.writeText(e).then((function(){console.log("copied")}),(function(){console.log("failed to copy")}))}()}},"C"),i.a.createElement("button",{className:"add-row-button",onClick:function(){return(e=r).push(Object(m.a)({},l[0],{count:0,sum:0,uuid:Date.now()})),void o(Object(u.a)(e))}},"+")))},_=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement(f,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.e9330ae5.chunk.js.map